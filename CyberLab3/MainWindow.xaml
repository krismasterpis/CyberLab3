<Window x:Class="CyberLab3.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CyberLab3"
        xmlns:controls="clr-namespace:CyberLab3.Resources.Controls"
        mc:Ignorable="d"
        Title="MainWindow" Height="1080" Width="1920" MinWidth="1500" MinHeight="1000" WindowState="Maximized">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="50"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>
        <Border Width="50" HorizontalAlignment="Left" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Grid.RowSpan="2" Background="#2D2D30" ClipToBounds="True" Panel.ZIndex="100">
            <ListBox  SelectionMode="Single" SelectionChanged="sideBar_SelectionChanged" x:Name="sideBar" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="HorizontalAlignment" Value="Left"/>
                    </Style>
                </ListBox.ItemContainerStyle>
                <controls:NavButton NavName="Home" NavLink="/Pages/HomePage.xaml" Margin="3" Padding="6" Icon="M27 18.039L16 9.501 5 18.039V14.56l11-8.54 11 8.538v3.481zm-2.75-.31v8.251h-5.5v-5.5h-5.5v5.5h-5.5v-8.25L16 11.543l8.25 6.186z"/>
                <controls:NavButton NavName="OSA" NavLink="/Pages/OsaPage.xaml" Margin="3" Padding="6" Icon="M5 7L7 5L10 8L15 3V11H5V7Z"/>
                <controls:NavButton NavName="Thermal Cahmber" NavLink="/Pages/ThermalChamberPage.xaml" Margin="3" Padding="6" Icon="m26 4c3.3137085 0 6 2.6862915 6 6v12c0 3.3137085-2.6862915 6-6 6h-20c-3.3137085 0-6-2.6862915-6-6v-12c0-3.3137085 2.6862915-6 6-6zm-5 3c-.5522847 0-1 .44771525-1 1v16c0 .5522847.4477153 1 1 1s1-.4477153 1-1v-16c0-.55228475-.4477153-1-1-1zm-5 15h-10c-.55228475 0-1 .4477153-1 1s.44771525 1 1 1h10c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1zm11-3h-2c-.5522847 0-1 .4477153-1 1s.4477153 1 1 1h2c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1zm-12.9655742-8.6664008c-.3679965-.41182161-1.0001639-.44734887-1.4119855-.0793524-.4118216.3679965-.4473489 1.000164-.0793524 1.4119856l.1046799.1266991c.558117.732537.5192563 1.7066343-.1577284 2.6052781l-.1362338.1899805c-1.0444855 1.5324177-1.000064 3.3596156.1104718 4.9776175.3125334.4553474.9350238.5711211 1.3903713.2585877.4553474-.3125334.5711211-.9350238.2585877-1.3903713-.6801662-.9909722-.6801662-1.9637321-.025762-2.832402l.1359619-.1890445c1.1330662-1.6521135 1.0883861-3.6494552-.1890105-5.0789783zm-4.79235282-.899491c-.31253341-.45534746-.93502385-.57112113-1.39037131-.25858772s-.57112113.93502382-.25858772 1.39037132c.67779427.9875165.67804257 2.015277.0431901 2.8099393-1.29021331 1.6149955-1.20563393 3.6592329-.01547236 5.2284624.3337421.4400394.96101593.5262104 1.40105531.1924683s.52621034-.961016.19246824-1.4010553c-.66165325-.8723907-.70454286-1.9090091-.01547235-2.7715376l.13356012-.1759798c1.06850569-1.4837269 1.02515569-3.3888089-.09037003-5.0140809zm17.75792702 5.5658918h-2c-.5522847 0-1 .4477153-1 1s.4477153 1 1 1h2c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1zm0-4h-2c-.5522847 0-1 .4477153-1 1s.4477153 1 1 1h2c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1z"/>
                <controls:NavButton NavName="Temperature Meas." NavLink="/Pages/TemperaturePage.xaml" Margin="3" Padding="6" Icon="M130,4763.13638 L130,4764.12784 C130,4764.67513 130.448,4764.94877 131,4764.94877 L132,4764.94877 L133,4764.94877 C133.545,4764.94877 133.984,4765.46433 133.996,4766.00369 C133.984,4766.54007 133.545,4766.93169 133,4766.93169 L132,4766.93169 L130,4767.01696 C128.896,4767.01696 128,4766.21487 128,4765.1193 L128,4763.13638 L128,4761.15346 L128,4761.06819 C128,4759.97362 128.896,4759 130,4759 L132,4759 L133,4759 C133.552,4759 134,4759.48681 134,4760.03409 L134,4760.07673 C134,4760.62401 133.552,4760.98292 133,4760.98292 L132,4760.98292 L131,4760.98292 C130.448,4760.98292 130,4761.59763 130,4762.14492 L130,4763.13638 Z M134,4766.0255 C134,4766.01856 133.996,4766.01162 133.996,4766.00369 C133.996,4765.99675 134,4765.9908 134,4765.98287 L134,4766.0255 Z M124,4760.16199 L124,4760.16199 C124,4759.61471 124.448,4759.17053 125,4759.17053 C125.552,4759.17053 126,4759.61471 126,4760.16199 C126,4760.70928 125.552,4761.15346 125,4761.15346 C124.448,4761.15346 124,4760.70928 124,4760.16199 L124,4760.16199 Z M139,4777.01684 C137.346,4777.01684 136,4775.68234 136,4774.04246 C136,4772.75158 136.839,4771.66196 138,4771.2505 L138,4769.18529 L138,4768.91462 L140,4768.91462 L140,4769.18529 L140,4771.2505 C141.161,4771.66196 142,4772.75158 142,4774.04246 C142,4775.68234 140.654,4777.01684 139,4777.01684 L139,4777.01684 Z M140,4762.14492 L140,4763.13638 L138,4763.13638 L138,4762.14492 C138,4761.59763 138.448,4761.15346 139,4761.15346 C139.552,4761.15346 140,4761.59763 140,4762.14492 L140,4762.14492 Z M138,4767.10223 L140,4767.10223 L140,4765.1193 L138,4765.1193 L138,4767.10223 Z M142,4770.09942 L142,4761.15346 C142,4760.05789 141.105,4759 140,4759 L138,4759 C136.895,4759 136,4760.05789 136,4761.15346 L136,4770.09942 C134.566,4771.17317 133.718,4772.97664 134.086,4774.96948 C134.443,4776.90283 135.988,4778.49016 137.929,4778.88972 C141.158,4779.554 144,4777.1269 144,4774.04246 C144,4772.42638 143.208,4771.00363 142,4770.09942 L142,4770.09942 Z"/>
                <controls:NavButton NavName="Lasers" NavLink="/Pages/LasersPage.xaml" Margin="3" Padding="6" Icon="M256.594 22.78c-30.506.17-59.178 22.692-80.125 62.97-.06.11-.13.2-.19.313L45.563 314.813l-.218.375C21.012 353.466 15.88 389.552 30.97 416.063c15.08 26.496 48.627 40.125 93.5 37.906h265.124c44.872 2.218 78.418-11.41 93.5-37.908 15.092-26.516 9.97-62.618-14.375-100.906l-.22-.344L336.375 85.345c-.075-.147-.175-.26-.25-.406-20.513-40.036-49.052-62.324-79.53-62.157zm-.28 18.845c13.573-.132 26.512 6.475 38.155 17.78 11.558 11.227 22.392 27.263 33.092 48.19L444.25 310.218l.22.342c12.067 18.934 20.57 36.022 24.905 51.563 4.362 15.64 4.54 30.2-1.5 42.438-6.04 12.238-17.97 20.85-33.75 25.687-15.675 4.806-35.56 6.383-60.406 5.125H139.905c-22.9 1.157-41.964-.16-57.406-4.5-15.56-4.373-27.874-12.147-34.78-23.906-6.91-11.76-7.756-26.4-3.845-42.408 3.886-15.904 12.366-33.698 25.28-53.968l115.47-201.938c.063-.12.125-.222.188-.344 10.85-20.89 21.77-36.997 33.375-48.343 11.673-11.413 24.55-18.213 38.125-18.345zm.186 18.688c-7.503.072-15.765 3.758-25.25 13.03-9.485 9.274-19.69 23.944-30.03 43.907l-.095.188-.094.156-70.718 123.687 61.625.19-31.25-18.032 9.344-16.188 51.064 29.5c1.282-1.427 2.68-2.77 4.125-4.03l-29.532-51.126 16.187-9.344 29.563 51.188c1.785-.586 3.63-1.04 5.5-1.407v-59.186h18.687v59.375c1.824.393 3.603.896 5.344 1.5l29.717-51.47 16.157 9.344-29.813 51.625c1.34 1.206 2.62 2.49 3.814 3.843l51.687-29.813 9.345 16.188-51.688 29.843c.566 1.702 1.04 3.44 1.407 5.22h59.656v18.688h-59.656c-.367 1.79-.84 3.538-1.406 5.25l51.687 29.812-9.344 16.156-51.624-29.78c-1.2 1.364-2.495 2.656-3.844 3.874l29.782 51.594-16.156 9.344L271 312.03c-1.75.608-3.54 1.105-5.375 1.5v59.283h-18.688v-59.094c-1.88-.375-3.74-.874-5.53-1.47l-29.532 51.188-16.188-9.344 29.563-51.188c-1.43-1.27-2.764-2.63-4.03-4.062l-51.19 29.562-9.343-16.156L191 294.75H99.75l-14.375 25.125-.125.22-.125.186C72.762 339.63 65.197 356.044 62.03 369c-3.164 12.957-2.05 21.92 1.814 28.5 3.865 6.58 11.153 11.875 23.718 15.406 12.567 3.532 30.025 4.95 51.876 3.813l.25-.033H373.968l.25.032c23.734 1.233 41.893-.468 54.436-4.314 12.544-3.845 19.08-9.322 22.438-16.125 3.358-6.802 3.88-16.225.28-29.124-3.597-12.898-11.31-28.78-22.874-46.875l-.094-.186-.125-.188-116.936-202.97-.094-.217-.125-.22c-10.195-20.01-20.283-34.584-29.656-43.688-9.375-9.103-17.467-12.572-24.97-12.5zm-.656 179.53c-10.807 0-20.39 6.403-25 15.376l-2.594 5.093-5.75-.032-102.438-.342-9.25 16.125H228.72l2.655 4.937c4.736 8.86 13.8 14.906 24.47 14.906 15.47 0 28.03-12.56 28.03-28.03 0-15.473-12.56-28.032-28.03-28.032z"/>
                <controls:NavButton NavName="Switch" NavLink="/Pages/SwitchPage.xaml" Margin="3" Padding="6" Icon="M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"/>
                <controls:NavButton NavName="Interrogator" NavLink="/Pages/InterrogatorPage.xaml" Margin="3" Padding="6" Icon="M10,24 C14,10 18,38 22,24 C24,22 26,14 27,4 C28,14 30,22 32,24 C36,38 40,10 44,24" />
                <controls:NavButton NavName="Attenuation Meas." NavLink="/Pages/AttenuationPage.xaml" Margin="3" Padding="6" Icon="M20.21 36.89Q20.21 37.08 20.13 37.23Q20.04 37.38 19.84 37.46Q19.63 37.55 19.29 37.60Q18.95 37.65 18.46 37.65Q17.94 37.65 17.60 37.60Q17.26 37.55 17.04 37.46Q16.82 37.38 16.72 37.23Q16.63 37.08 16.63 36.89L16.63 33.98Q14.89 35.86 13.02 36.91Q11.16 37.96 8.94 37.96Q6.52 37.96 4.81 37.02Q3.10 36.08 2.04 34.48Q0.98 32.89 0.49 30.73Q0 28.56 0 26.17Q0 23.34 0.61 21.06Q1.22 18.77 2.42 17.16Q3.61 15.55 5.38 14.69Q7.15 13.82 9.47 13.82Q11.40 13.82 13.00 14.66Q14.60 15.50 16.16 17.14L16.16 4.37Q16.16 4.20 16.25 4.04Q16.33 3.88 16.58 3.80Q16.82 3.71 17.20 3.65Q17.58 3.59 18.16 3.59Q18.77 3.59 19.17 3.65Q19.56 3.71 19.78 3.80Q20.00 3.88 20.10 4.04Q20.21 4.20 20.21 4.37L20.21 36.89M16.16 21.44Q14.53 19.41 13.00 18.35Q11.47 17.29 9.81 17.29Q8.28 17.29 7.20 18.02Q6.13 18.75 5.46 19.95Q4.79 21.14 4.48 22.66Q4.17 24.17 4.17 25.73Q4.17 27.39 4.43 28.98Q4.69 30.57 5.32 31.80Q5.96 33.03 7.01 33.78Q8.06 34.52 9.64 34.52Q10.45 34.52 11.19 34.30Q11.94 34.08 12.72 33.57Q13.50 33.06 14.36 32.24Q15.21 31.42 16.16 30.22L16.16 21.44ZM48.95 28.44Q48.95 29.93 48.57 31.19Q48.19 32.45 47.51 33.45Q46.83 34.45 45.86 35.21Q44.90 35.96 43.69 36.47Q42.48 36.99 41.10 37.24Q39.72 37.50 37.94 37.50L29.69 37.50Q29.13 37.50 28.63 37.12Q28.13 36.74 28.13 35.79L28.13 7.62Q28.13 6.67 28.63 6.29Q29.13 5.91 29.69 5.91L36.87 5.91Q39.70 5.91 41.50 6.45Q43.31 6.98 44.52 8.01Q45.73 9.03 46.34 10.52Q46.95 12.01 46.95 13.89Q46.95 15.01 46.68 16.04Q46.41 17.07 45.89 17.93Q45.36 18.80 44.57 19.48Q43.77 20.17 42.75 20.61Q44.04 20.85 45.17 21.50Q46.29 22.14 47.13 23.14Q47.97 24.15 48.46 25.49Q48.95 26.83 48.95 28.44M42.63 14.31Q42.63 13.16 42.31 12.23Q41.99 11.30 41.31 10.66Q40.63 10.01 39.53 9.67Q38.43 9.33 36.62 9.33L32.28 9.33L32.28 19.56L37.06 19.56Q38.70 19.56 39.70 19.13Q40.70 18.70 41.36 17.98Q42.02 17.26 42.32 16.30Q42.63 15.33 42.63 14.31M44.53 28.69Q44.53 27.27 44.08 26.20Q43.63 25.12 42.76 24.39Q41.89 23.66 40.59 23.28Q39.28 22.90 37.30 22.90L32.28 22.90L32.28 34.03L38.38 34.03Q39.82 34.03 40.89 33.69Q41.97 33.35 42.79 32.68Q43.60 32.01 44.07 31.01Q44.53 30.00 44.53 28.69Z"/>
                <controls:NavButton NavName="CyberLab" NavLink="/Pages/CyberLabPage.xaml" Margin="3" Padding="6" Icon="M384 64L224 64C206.3 64 192 78.3 192 96C192 113.7 206.3 128 224 128L224 279.5L103.5 490.3C98.6 499 96 508.7 96 518.7C96 550.4 121.6 576 153.3 576L486.7 576C518.3 576 544 550.4 544 518.7C544 508.7 541.4 498.9 536.5 490.3L416 279.5L416 128C433.7 128 448 113.7 448 96C448 78.3 433.7 64 416 64L384 64zM288 279.5L288 128L352 128L352 279.5C352 290.6 354.9 301.6 360.4 311.3L402 384L238 384L279.6 311.3C285.1 301.6 288 290.7 288 279.5z"/>
                <controls:NavButton NavName="Database" NavLink="/Pages/DatabasePage.xaml" Margin="3" Padding="6" Icon="M544 269.8C529.2 279.6 512.2 287.5 494.5 293.8C447.5 310.6 385.8 320 320 320C254.2 320 192.4 310.5 145.5 293.8C127.9 287.5 110.8 279.6 96 269.8L96 352C96 396.2 196.3 432 320 432C443.7 432 544 396.2 544 352L544 269.8zM544 192L544 144C544 99.8 443.7 64 320 64C196.3 64 96 99.8 96 144L96 192C96 236.2 196.3 272 320 272C443.7 272 544 236.2 544 192zM494.5 453.8C447.6 470.5 385.9 480 320 480C254.1 480 192.4 470.5 145.5 453.8C127.9 447.5 110.8 439.6 96 429.8L96 496C96 540.2 196.3 576 320 576C443.7 576 544 540.2 544 496L544 429.8C529.2 439.6 512.2 447.5 494.5 453.8z"/>
            </ListBox>
            <Border.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Width"
                                             To="225" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <QuadraticEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>

                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Width"
                                             To="50" Duration="0:0:0.2">
                                <DoubleAnimation.EasingFunction>
                                    <QuadraticEase EasingMode="EaseIn"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Border.Triggers>
        </Border>
        <Frame Grid.Column="1" Grid.Row="1" Grid.RowSpan="2" x:Name="navFrame" NavigationUIVisibility="Hidden" Background="#e9ecef"/>
        <Grid Grid.Row="0" Grid.Column="1" Background="{StaticResource TopBarBrush}">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="5">
                <Border Background="#e9ecef" CornerRadius="20" BorderThickness="0" Padding="20,0,20,0" Margin="0,0,10,0" Visibility="{Binding isCounterEnabled}">
                    <TextBlock Text="{Binding estTimeStr}" FontSize="28" FontWeight="Bold" Margin="10,0,10,3" VerticalAlignment="Center" Foreground="#2a84f1"/>
                </Border>
                <controls:MeasurementTimer Time="{Binding Time}" StartCommand="{Binding StartTimerCommand}" PauseCommand="{Binding PauseTimerCommand}" RestartCommand="{Binding RestartTimerCommand}"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
